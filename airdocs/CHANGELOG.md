# Changelog

## [0.2.2] - 2026-02-15

### Fixed
- Исправлен YAML синтаксис в GitHub Actions workflow
- Улучшена генерация ZIP-архивов с правильной структурой для клиентов

### Changed
- Обновлён build.bat для создания standalone EXE копии
- Добавлен README_WIN.txt с инструкциями для пользователей

## [0.2.1] - 2026-02-14

### Исправлено
- Исправлена компоновка формы бронирования: увеличены пропорции сплиттера (таблица 30%, форма 70%)
- Расширены минимальные размеры полей ввода (PartySelector, measures, группы)
- Увеличен начальный размер главного окна до 1400x900
- Улучшено отображение ошибок валидации с inline-подсказками
- Исправлены placeholder'ы и выравнивание меток в форме

## [0.2.0] - 2026-02-14

### Added - Печать и экспорт
- ✓ **Печать AWB**: кнопка "Печать AWB" в модуле Бронирование с preview и поддержкой принтеров этикеток
- ✓ **Печать комплекта документов**: печать всех PDF (Invoice, Act, UPD) одним кликом
- ✓ **Настройка принтера**: выбор режима A4/этикетки в config/settings.yaml (printer.default_mode)
- ✓ **Фильтры реестра 1C**: фильтрация по типу отправления и статусу
- ✓ **Статистика реестра**: автоматический подсчёт веса, мест, суммы для выбранных AWB
- ✓ **Автооткрытие Excel**: после экспорта реестра файл открывается автоматически
- ✓ **Автосоздание шаблонов**: при первом запуске создаются demo-шаблоны Word/Excel/PDF в data/templates

### Changed
- Улучшен UX модуля "Реестр для 1С": быстрые кнопки периода (неделя/месяц/квартал)
- Оптимизирована работа с PDF через PDFPrinter (preview, multi-file print)

### Fixed
- Исправлена ошибка FileNotFoundError при создании логов в портативном режиме
- Исправлена загрузка config/logging.yaml из PyInstaller bundle (_MEIPASS)

## [0.1.6] - 2026-02-08
- Исправления логирования и портативности (технический релиз)

## [0.1.5] - 2026-02-06

### Added
- ✓ Полностью портативный режим: все данные в `data/` рядом с exe
- ✓ Мастер первоначальной настройки (Setup Wizard) для новых пользователей
- ✓ Автоматическая проверка обновлений через GitHub Releases
- ✓ Диагностика базы данных в статус-баре и меню настроек
- ✓ Улучшенная валидация форм с подсказками при отсутствии контрагентов
- ✓ Детальное логирование инициализации и ошибок миграций

### Changed
- Удалена логика %APPDATA%, приложение работает только в портативном режиме
- Миграции SQL теперь встроены в exe через PyInstaller
- Улучшена обработка ошибок при первом запуске

### Fixed
- Исправлена ошибка "no such table: parties" при первом запуске
- Исправлена генерация version_info.txt для PyInstaller
- Исправлены права доступа к папке data/

## [0.1.4] - 2026-02-03
- Начальная версия с базовым функционалом


